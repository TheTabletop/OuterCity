<!doctype html>

<html lang="en" ng-app="Roll4Guild">
<head>
	<meta charset="utf-8">
	<title>Inbox</title>
	<link rel="stylesheet" href="../../styles/css/styles.css">

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-route.js"></script>
	<script src="../../scripts/app.js"></script>

	<style>
	a {
		text-decoration: none;
	}

	.inboxContact, .inboxGroup {
		padding: 2%;
	}
	.inboxContact > a, .inboxGroup >a {
	    font-size: 15px;
	    color: #aaa;
	}
	.messageSender, .messageExcerpt, .messageDate{
	    font-size: 15px;
	    color: #aaa;
		/*clear: both;*/
		/*float: left;*/
		display: inline-block;
	}
	.inboxContact > a:hover, .inboxGroup:hover > a, .inboxMessage:hover *{
	    color: #555;
	}

	/*Allows an element to wrap around its floated children*/
	.clearfix:after {
		content: "";
		display: table;
		clear: both;
	}
	.clearfix { display: inline-block; }
	.inboxContainer {
		margin: 1%;
		padding: 1%;
		width: 96%;
		overflow-y: auto;
		overflow-x: hidden;
		position: absolute;
	}
	#contactBrowser {
		float: left;
		top: 9%;
		left: 2%;
		min-width: 20%;
		max-width: 20%;
		height: 88%;
		position: absolute; 	/* reference point for children */
		/*background-color: #ecf2f5;*/
		/*margin: 1%;*/
	}
	#mailBrowser {
		float: left;
		/*top: 15%;*/
		top: 6%;
		left: 25%;
		min-width: 70%;
		max-width: 70%;
		height: 88%;
		position: absolute; 	/* reference point for children */
		/*background-color: #ecf2f5;*/
		/*margin: 1%;*/
	}

	</style>
</head>

<body ng-controller="inboxCtrl">
	<div ng-init="init()"></div>
	<div id="mySidenav" class="sidenav">
		<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
		<a href="userProfile.html"><img class ="heroPic" src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg"/></a>
		<a href="searchScreen.html">Find</a>
		<div class="dropdown">
		<a href="#">Groups
			<div class="dropdown-content">
				<a href="#">Link 1</a>
			<a href="#">Link 2</a>
			<a href="#">Link 3</a>
			</div>
		</a></div>
		<a href="inbox.html">Messages</a>
		<a href="userProfile.html">Profile</a>
		<a href="../../index.html">Log Out</a>
		<a href="aboutUs.html">About</a>
		<a href="contactUs.html">Contact Us</a>
	</div>

	<div id="main" class="clearfix">
		<div id="navIcon">
			<span style="font-size:30px;cursor:pointer;" onclick="openNav()">&#9776; Navigation</span>
		</div>

		<div id="contactBrowser">
			<!-- Place where user can find someone to contact -->
			<div id="contactSearch" class="inboxContainer" style="position:absolute; top:0%; max-height:10%; overflow:hidden;">
				<form>
					<input type="text" list="contactsList" placeholder="search contacts" style="width:85%;" ng-model="name" ng-keypress="($event.charCode==13)? init(name) : return"/>
					<datalist id="contactsList">
						<option ng-repeat="contact in contacts" value="{{contact.name}}">
					</datalist>
				</form>
			</div>

			<!-- List of people with whom there has been recent communication -->
			<div id="inboxContacts" class="inboxContainer"  style="top:5%; max-height: 50%; background-color:none;">
				<h2> Recent </h2>
				<div class="inboxContact clearfix">
					<a href="#">
						<div style="">
							<div style="margin:">
								<img src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg" style="float:left; clear:left; border-radius: 50%; width:40%;" alt="Bilbo Baggins"/>
							</div>
							<div style="float:right; clear:right; width:50%; max-height:50%; margin:5%;">
								<h3>Bilbo Baggins</h3>
							</div>
						</div>
					</a>
				</div>
				<div class="inboxContact clearfix">
					<a href="#">
						<div style="">
							<div style="margin:">
								<img src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg" style="float:left; clear:left; border-radius: 50%; width:40%;" alt="Bilbo Baggins"/>
							</div>
							<div style="float:right; clear:right; width:50%; max-height:50%; margin:5%;">
								<h3>Bilbo Baggins</h3>
							</div>
						</div>
					</a>
				</div>
				<div class="inboxContact clearfix">
					<a href="#">
						<div style="">
							<div style="margin:">
								<img src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg" style="float:left; clear:left; border-radius: 50%; width:40%;" alt="Bilbo Baggins"/>
							</div>
							<div style="float:right; clear:right; width:50%; max-height:50%; margin:5%;">
								<h3>Bilbo Baggins</h3>
							</div>
						</div>
					</a>
				</div>
				<div class="inboxContact clearfix">
					<a href="#">
						<div style="">
							<div style="margin:">
								<img src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg" style="float:left; clear:left; border-radius: 50%; width:40%;" alt="Bilbo Baggins"/>
							</div>
							<div style="float:right; clear:right; width:50%; max-height:50%; margin:5%;">
								<h3>Bilbo Baggins</h3>
							</div>
						</div>
					</a>
				</div>
			</div>
			<div id="inboxGroups" class="inboxContainer"  style="top:60%; max-height: 40%; background-color:none;">
				<!-- List of Groups the user is a member of -->
				<h2> Groups </h2>
				<div class="inboxGroup clearfix">
					<a href="#">
						<div style="">
							<div style="margin:">
								<img src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg" style="float:left; clear:left; border-radius: 50%; width:40%;" alt="Bilbo Baggins"/>
							</div>
							<div style="float:right; clear:right; width:50%; max-height:50%; margin:5%;">
							<h3>Circle of Elrond</h3>
							</div>
						</div>
					</a>
				</div>
				<div class="inboxGroup clearfix">
					<a href="#">
						<div style="">
							<div style="margin:">
								<img src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg" style="float:left; clear:left; border-radius: 50%; width:40%;" alt="Bilbo Baggins"/>
							</div>
							<div style="float:right; clear:right; width:50%; max-height:50%; margin:5%;">
							<h3>Circle of Elrond</h3>
							</div>
						</div>
					</a>
				</div>
				<div class="inboxGroup clearfix">
					<a href="#">
						<div style="">
							<div style="margin:">
								<img src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg" style="float:left; clear:left; border-radius: 50%; width:40%;" alt="Bilbo Baggins"/>
							</div>
							<div style="float:right; clear:right; width:50%; max-height:50%; margin:5%;">
							<h3>Circle of Elrond</h3>
							</div>
						</div>
					</a>
				</div>
				<div class="inboxGroup clearfix">
					<a href="#">
						<div style="">
							<div style="margin:">
								<img src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg" style="float:left; clear:left; border-radius: 50%; width:40%;" alt="Bilbo Baggins"/>
							</div>
							<div style="float:right; clear:right; width:50%; max-height:50%; margin:5%;">
							<h3>Circle of Elrond</h3>
							</div>
						</div>
					</a>
				</div>
				<div class="inboxGroup clearfix">
					<a href="#">
						<div style="">
							<div style="margin:">
								<img src="https://pbs.twimg.com/profile_images/435608617840963584/f1ss6Ke2_400x400.jpeg" style="float:left; clear:left; border-radius: 50%; width:40%;" alt="Bilbo Baggins"/>
							</div>
							<div style="float:right; clear:right; width:50%; max-height:50%; margin:5%;">
							<h3>Circle of Elrond</h3>
							</div>
						</div>
					</a>
				</div>
			</div>
		</div>

		<div id="mailBrowser">
			<!-- List of messages sent to the user -->
			<div id="messageHistory" class="inboxContainer"  style="top: 0; min-height:50%; max-height: 50%;">
				<h2> {{ listNames() }} </h2>
				<div class="inboxMessage roundBorder clearfix" style="width:98%; padding:1%; margin: .3% 0 .3% 0; background-color:#fff;" ng-repeat="msg in messages" ng-click="findPigeons()">
					<a href="#">
						<div>
							<div class="messageSender">{{msg.sender}}</div>
							<div class="messageExcerpt">{{msg.body}}</div>
							<div class="messageDate" style="float:right">{{msg.date}}</div>
						</div>
					</a>
				</div>
			</div>

			<div id="newMessage" class="inboxContainer" style="bottom:-5%; max-height: 45%;">
				<form class="roundBorder" style="padding:2%; background-color:#fff;">
					<!-- Place where message body is entered -->
					<div id="msgEditor" style="bottom:0; margin-top:1%; min-width:98%;">
						<textarea id="msgText" class="roundBorder" name="msgText" placeholder="Message..." rows="8"  style="width:100%; max-width:98%;" required></textarea>
					</div>

					<input type="submit" value="Send">
				</form>

			</div>
		</div>
	</div>

	<script>
	function openNav() {
	    document.getElementById("mySidenav").style.width = "250px";
	    document.getElementById("main").style.marginLeft = "250px";
	}

	function closeNav() {
	    document.getElementById("mySidenav").style.width = "0";
	    document.getElementById("main").style.marginLeft= "0";
	}
	</script>
</body>
</html>
